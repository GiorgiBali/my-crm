<form #accountForm="ngForm" (ngSubmit)="onAccountFormSubmit(accountForm)" class="pt-2 d-flex flex-column align-items-center justify-content-center">
  <h1 class="fs-2 mb-4">Account Info</h1>
  <div ngModelGroup="fullName" class="d-flex w-50">
    <div class="form-floating mb-2 w-50 me-1">
      <input type="text" name="firstname" [(ngModel)]="loggedUser.firstName" #firstNameRef="ngModel" class="form-control" id="firstname" placeholder="First Name" required pattern="[A-Za-z]+">
      <label for="firstname">First Name</label>
      <small *ngIf="firstNameRef.invalid && firstNameRef.dirty" class="text-danger">Invalid First Name</small>
    </div>
    <div class="form-floating mb-2 w-50 ms-1">
      <input type="text" name="lastname" [(ngModel)]="loggedUser.lastName" #lastNameRef="ngModel" class="form-control" id="lastname" placeholder="Last Name" required pattern="[A-Za-z]+">
      <label for="lastname">Last Name</label>
      <small *ngIf="lastNameRef.invalid && lastNameRef.dirty" class="text-danger">Invalid Last Name</small>
    </div>
  </div>
  <div ngModelGroup="EmailAndPhone" class="d-flex w-50">
    <div class="form-floating mb-2 w-50 me-1">
      <input type="email" name="email" [(ngModel)]="loggedUser.email" #emailRef="ngModel" class="form-control" id="email" placeholder="Email" required pattern="\S+@\S+\.\S+">
      <label for="email">Email</label>
      <small *ngIf="emailRef.invalid && emailRef.dirty" class="text-danger pe-4">Invalid Email</small>
      <small *ngIf="repeatedEmail" class="text-danger">Email Already Exists</small>
    </div>
    <div class="form-floating mb-2 w-50 ms-1">
      <input type="tel" name="phone" [(ngModel)]="loggedUser.phone" #phoneRef="ngModel" class="form-control" id="phone" placeholder="Phone" required pattern="[0-9]+" minlength="9">
      <label for="phone">Phone Number</label>
      <small *ngIf="phoneRef.invalid && phoneRef.dirty" class="text-danger pe-4">Invalid Phone Number</small>
      <small *ngIf="repeatedPhone" class="text-danger">Phone Already Exists</small>
    </div>
  </div>
  <div class="d-flex flex-column align-items-center w-50 me-1 mb-4">
    <div class="form-floating w-50 password-group">
      <input type="password" name="password" [(ngModel)]="loggedUser.password" #passwordRef="ngModel" class="form-control" id="password" placeholder="Password" required minlength="5">
      <button type="button" class="btn btn-link align-self-center" (click)="togglePassword()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="black" class="bi bi-eye-fill" viewBox="0 0 16 16">
          <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
          <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
        </svg>
      </button>
      <label for="password">Password</label>
    </div>
    <small *ngIf="passwordRef.invalid && passwordRef.dirty" class="text-danger">Invalid Password</small>
  </div>
  <button type="submit" class="btn btn-primary w-25" [disabled]="accountForm.invalid || accountForm.pristine">Update</button>
  <div *ngIf="successfulUpdate" class="alert alert-success mt-3" role="alert">Successful Update!</div>
</form>